{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "DOCKERFILE",
    "dockerfilePath": "Dockerfile"
  },
  "deploy": {
    "startCommand": "docker-compose -f docker-compose.prod.yml up",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  },
  "buildCommand": "git submodule update --init --recursive && docker-compose -f docker-compose.prod.yml build",
  "watchPatterns": [
    "**/*.ts",
    "**/*.tsx",
    "**/*.js",
    "**/*.jsx",
    "**/package.json",
    "**/pnpm-lock.yaml",
    "docker-compose.prod.yml"
  ]
}
